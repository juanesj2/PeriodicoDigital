<ion-menu contentId="main-content">
  <ion-header>
    <ion-toolbar>
      <ion-title>Menú</ion-title>
    </ion-toolbar>
  </ion-header>
  <ion-content>
    <ion-list lines="none">
      <ion-list-header>
        <ion-label color="medium" style="font-size: 12px; text-transform: uppercase; letter-spacing: 1px;">Contenido</ion-label>
      </ion-list-header>

      <ion-menu-toggle auto-hide="false">
        <ion-item button routerLink="/tabs/tabMIAU" detail="false" class="menu-item-custom">
          <div slot="start" style="display: flex; align-items: center; justify-content: center; width: 24px; height: 24px; margin-inline-end: 16px;">
            <svg width="22" height="22" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" style="color: var(--ion-color-primary);">
              <path d="M19.0993 10.6602C20.2113 11.9744 19.98 13.5815 19.9801 15C19.9801 18.9062 14.7132 20 12 20C9.28677 20 4.01994 18.9062 4.01994 15C4.01995 13.5815 3.78875 11.9744 4.90066 10.6602M19.0993 10.6602C18.9048 10.4303 18.6692 10.2094 18.384 10M19.0993 10.6602C19.7993 11.0634 19.9781 9.55469 19.9801 9.0625V7.18761C19.9801 5.56261 18.8629 5.00011 17.9053 5.00011C16.9477 5.00011 15.0324 6.5625 14.394 6.5625C13.6279 6.5625 13.4804 6.40636 12 6.40636C10.5197 6.40636 10.3721 6.5625 9.60601 6.5625C8.9676 6.5625 7.05236 5 6.09476 5C5.13715 5 4.01995 5.5625 4.01995 7.1875V9.0625C4.02188 9.55469 4.20072 11.0634 4.90066 10.6602M4.90066 10.6602C5.09519 10.4303 5.33082 10.2094 5.61599 10" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
              <path d="M12.8258 16C12.8258 16.1726 12.4647 16.3125 12.0193 16.3125C11.574 16.3125 11.2129 16.1726 11.2129 16C11.2129 15.8274 11.574 15.6875 12.0193 15.6875C12.4647 15.6875 12.8258 15.8274 12.8258 16Z" fill="none" stroke="currentColor" stroke-width="1.5"/>
              <path d="M15.5 13.5938C15.5 14.0252 15.2834 14.375 15.0161 14.375C14.7489 14.375 14.5323 14.0252 14.5323 13.5938C14.5323 13.1623 14.7489 12.8125 15.0161 12.8125C15.2834 12.8125 15.5 13.1623 15.5 13.5938Z" fill="none" stroke="currentColor" stroke-width="1.5"/>
              <path d="M9.5 13.5938C9.5 14.0252 9.28336 14.375 9.01613 14.375C8.74889 14.375 8.53226 14.0252 8.53226 13.5938C8.53226 13.1623 8.74889 12.8125 9.01613 12.8125C9.28336 12.8125 9.5 13.1623 9.5 13.5938Z" fill="none" stroke="currentColor" stroke-width="1.5"/>
              <path d="M22.0004 15.4688C21.5165 15.1562 19.4197 14.375 18.6133 14.375" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
              <path d="M20.3871 17.9688C19.9033 17.6562 18.7742 16.875 17.9678 16.875" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
              <path d="M2 15.4688C2.48387 15.1562 4.58065 14.375 5.3871 14.375" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
              <path d="M3.61279 17.9688C4.09667 17.6562 5.2257 16.875 6.03215 16.875" fill="currentColor" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
            </svg>
          </div>
          <ion-label style="font-weight: 600;">Miau News</ion-label>
        </ion-item>
      </ion-menu-toggle>

      <div style="height: 1px; background: var(--ion-color-step-100); margin: 8px 16px;"></div>

      <ion-list-header>
        <ion-label color="medium" style="font-size: 12px; text-transform: uppercase; letter-spacing: 1px;">TEMAS</ion-label>
      </ion-list-header>

      <ion-accordion-group>
        <ion-accordion value="temas">
          <ion-item slot="header">
            <ion-icon slot="start" name="color-palette-outline" color="primary"></ion-icon>
            <ion-label style="font-weight: 600;">Colores</ion-label>
          </ion-item>

          <div slot="content" style="background: var(--ion-color-step-50);">
            <ion-item button (click)="cambiarColorTema('theme-blue')" detail="false">
              <ion-icon slot="start" name="ellipse" style="color: #3880ff; font-size: 16px;"></ion-icon>
              <ion-label>Azul</ion-label>
            </ion-item>

            <ion-item button (click)="cambiarColorTema('theme-red')" detail="false">
              <ion-icon slot="start" name="ellipse" style="color: #ff4538; font-size: 16px;"></ion-icon>
              <ion-label>Rojo</ion-label>
            </ion-item>

            <ion-item button (click)="cambiarColorTema('theme-green')" detail="false">
              <ion-icon slot="start" name="ellipse" style="color: #35d105; font-size: 16px;"></ion-icon>
              <ion-label>Verde</ion-label>
            </ion-item>

            <ion-item button (click)="cambiarColorTema('theme-purple')" detail="false">
              <ion-icon slot="start" name="ellipse" style="color: #a51085; font-size: 16px;"></ion-icon>
              <ion-label>Púrpura</ion-label>
            </ion-item>
          </div>
        </ion-accordion>
      </ion-accordion-group>

      <div style="height: 1px; background: var(--ion-color-step-100); margin: 8px 16px;"></div>

      <ion-menu-toggle auto-hide="false">
        <ion-item button routerLink="/tabs/ayuda" detail="false">
          <ion-icon slot="start" name="help-circle-outline" color="medium"></ion-icon>
          <ion-label style="font-weight: 500;">Ayuda</ion-label>
        </ion-item>
      </ion-menu-toggle>

    </ion-list>
  </ion-content>
</ion-menu>

<div id="main-content">
  <ion-header [translucent]="false" class="ion-no-border">
    <ion-toolbar>
      
      <ion-buttons slot="start">
        <ion-menu-button></ion-menu-button>
      </ion-buttons>
  
      <ion-title class="ion-text-center">
        <div style="display: flex; align-items: center; justify-content: center; gap: 8px;">
          <div style="width: 35px; height: 35px; overflow: hidden; display: flex; align-items: center; justify-content: center; border-radius: 50%;">
            <div slot="start" style="display: flex; align-items: center; justify-content: center; width: 24px; height: 24px; margin-inline-end: 16px;">
            <svg width="22" height="22" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" style="color: var(--ion-color-primary);">
              <path d="M19.0993 10.6602C20.2113 11.9744 19.98 13.5815 19.9801 15C19.9801 18.9062 14.7132 20 12 20C9.28677 20 4.01994 18.9062 4.01994 15C4.01995 13.5815 3.78875 11.9744 4.90066 10.6602M19.0993 10.6602C18.9048 10.4303 18.6692 10.2094 18.384 10M19.0993 10.6602C19.7993 11.0634 19.9781 9.55469 19.9801 9.0625V7.18761C19.9801 5.56261 18.8629 5.00011 17.9053 5.00011C16.9477 5.00011 15.0324 6.5625 14.394 6.5625C13.6279 6.5625 13.4804 6.40636 12 6.40636C10.5197 6.40636 10.3721 6.5625 9.60601 6.5625C8.9676 6.5625 7.05236 5 6.09476 5C5.13715 5 4.01995 5.5625 4.01995 7.1875V9.0625C4.02188 9.55469 4.20072 11.0634 4.90066 10.6602M4.90066 10.6602C5.09519 10.4303 5.33082 10.2094 5.61599 10" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
              <path d="M12.8258 16C12.8258 16.1726 12.4647 16.3125 12.0193 16.3125C11.574 16.3125 11.2129 16.1726 11.2129 16C11.2129 15.8274 11.574 15.6875 12.0193 15.6875C12.4647 15.6875 12.8258 15.8274 12.8258 16Z" fill="none" stroke="currentColor" stroke-width="1.5"/>
              <path d="M15.5 13.5938C15.5 14.0252 15.2834 14.375 15.0161 14.375C14.7489 14.375 14.5323 14.0252 14.5323 13.5938C14.5323 13.1623 14.7489 12.8125 15.0161 12.8125C15.2834 12.8125 15.5 13.1623 15.5 13.5938Z" fill="none" stroke="currentColor" stroke-width="1.5"/>
              <path d="M9.5 13.5938C9.5 14.0252 9.28336 14.375 9.01613 14.375C8.74889 14.375 8.53226 14.0252 8.53226 13.5938C8.53226 13.1623 8.74889 12.8125 9.01613 12.8125C9.28336 12.8125 9.5 13.1623 9.5 13.5938Z" fill="none" stroke="currentColor" stroke-width="1.5"/>
              <path d="M22.0004 15.4688C21.5165 15.1562 19.4197 14.375 18.6133 14.375" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
              <path d="M20.3871 17.9688C19.9033 17.6562 18.7742 16.875 17.9678 16.875" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
              <path d="M2 15.4688C2.48387 15.1562 4.58065 14.375 5.3871 14.375" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
              <path d="M3.61279 17.9688C4.09667 17.6562 5.2257 16.875 6.03215 16.875" fill="currentColor" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
            </svg>
          </div>
          </div>
          <span style="font-weight: 700; font-size: 20px;">Noticias Felinas</span>
        </div>
      </ion-title>
  
      <ion-buttons slot="end">
        <ion-button (click)="alternarTema()">
          <ion-icon slot="icon-only" [name]="esModoOscuro ? 'sunny-outline' : 'moon-outline'"></ion-icon>
        </ion-button>
        <!-- Boton para abrir la predicción del clima -->
        <ion-button (click)="abrirClima()">
          <ion-icon slot="icon-only" name="partly-sunny-outline"></ion-icon>
        </ion-button>
      </ion-buttons>
    </ion-toolbar>
  </ion-header>
  
  <!-- Floating Weather Widget -->
  <div *ngIf="mostrarClima" class="floating-weather-wrapper" (click)="cerrarClima()">
    <div class="weather-widget flexbox-widget" (click)="$event.stopPropagation()">

      <!-- Top Section -->
      <div class="widget-top">
        <div class="temp-col">
          <div class="temp-val">{{ climaGuardado?.temperature || '--' }} °C</div>
          <div class="location">{{ climaGuardado?.location || 'Ubicación Desconocida' }}</div>
        </div>
        <div class="icon-col">
          {{ climaGuardado?.icono }}
        </div>
      </div>

      <!-- Middle Section: Metrics -->
      <div class="widget-middle">
        
        <!-- Viento -->
        <div class="metric">
          <svg class="metric-icon" version="1.1" viewBox="0 0 30 30" xmlns="http://www.w3.org/2000/svg">  
            <image width="30" height="30" href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAMAAAAM7l6QAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAABaFBMVEUAAAAA//8ilfIhlfMglvIglfMglvIeku8cjf8glvMhlfIflvMhlfIhlvIglvMhl/MglvIglfIglPEfmfIhlfIglvQfn/8glfIglvIhlfMglfIglvMhl/AhlfIcm/AAf/8qlOkglPYglvIZmf8zmf8hlfIglfIXi+cilPMhlvMglfQhlvMglvIhlfIgl/MglvMhlvMhlfMhlvIfl+8hlvMhlfMglvMglvI/f/8hlvMilvMelvAglfIglvMhlvIglPIglvIhlfIkkfUglfMglfMhlvMhlvMilvMjlfEglvMhlfIhlfMglfIflvEnnOshlvIflPEflfIek/QglvIglvMhlfIime4jlPAglvMglvEhlvMhl/MglfMglfMhlvIak/Edk/UhlvIglfMgl/IglvIglfIilPIhlvMhlfMhk/Eqqv8glvIglfMcl/UhlfMhlvIhlvMhlfIglfIhlfIgl/QflPQhlvP///+FIn/GAAAAdnRSTlMAAVKu1MmNIQmy91ig/Z5s0fo3KP5dCL27Lvm0NvwSAgwf+woFv7oLQ0RGa9L1Vtndx4sgme3FZgTIFiI/hvZld3sch8Tv7kI683nV6DgN4GBQMsycjw8k6nWqRW3cUxMa5dpnfLU87N8mBrxXG5jnibjLoi8YaHuXCQAAAAFiS0dEd0Zk+dcAAAAJcEhZcwAACxMAAAsTAQCanBgAAAAHdElNRQfnAhEIBBbLW8PtAAABJ0lEQVQoz62RZ1fCMBSG46atomBR1IJ7g+KotKKgxYl74Z6493x/v6T0QKMtn/p8ec/Nk5Pc5BLiHCWlZeUVlVU21sWBwgvWuho1bqG2Dh6vla0X4ctGQyP8VrqpuUVPCQGXlQ+26tEGtBfpX0JHp73t6kYPs9Db159nYDAEj8RoNxjCQ+xxvuFIgZHRMcemQMi4iP+I8kRU0TUHG9RJqpWYFVPTcahKsc/jkSAzfgNuVvvjk5gj84W7FhZZvYRl4o0apFawGmT0GsKman0DmzS31O3cQgo75t27SNLYQyRNc/8AhzkROzrOPjCEE1poMk7Pzi8Sl7gyxp5B/Fq4Aa//A7m9y7V6/2Ac+/hEy8CzUb68ysDbezp/rZL5+Pz6NvWh/TgwzV+1HV523WQ81AAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAyMy0wMi0xN1QwODowNDoyMiswMDowML1dmzYAAAAldEVYdGRhdGU6bW9kaWZ5ADIwMjMtMDItMTdUMDg6MDQ6MjIrMDA6MDDMACOKAAAAKHRFWHRkYXRlOnRpbWVzdGFtcAAyMDIzLTAyLTE3VDA4OjA0OjIyKzAwOjAwmxUCVQAAAABJRU5ErkJggg=="></image>
          </svg>
          <span class="metric-label">Viento</span>
          <span class="metric-val">{{ climaGuardado?.windspeed || 'N/A' }} Km/h</span>
        </div>

        <!-- Dirección del Viento -->
        <div class="metric">
          <svg class="metric-icon" version="1.1" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg">  
            <image width="20" height="20" href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAMAAAC6V+0/AAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAABBVBMVEUAAABL4f9O5v9P5f9Q5f9R5/8AZsxB0vYAd9EAeNQAd9MeoOM1w/EYmuIZm+IXnOIAAP8AccYmrOgYmuAWneEA//8AdtQZm+JP5f8ZmeUAf89L3vwcoOQYmeIAddEAeNUrseocjeIAd9QAeNMxu+4kqucZmuEYm+IWmeI5xfIfn99P3/9Q5v9Q5v9Q5v9G2Pk0wPA+zfZN4v5L3/w+zfUyve8iqOcrs+s9zPVM4f1N4v1E1vklrOkip+cmrOhH2fpP5f5F1/kstewqs+tO4/4nruott+0or+pL3vxE1flK3vxA0fcjqecrtOxO5P4yvvAstOw6yPNA0Pc7yfQ4xfI3xPL////cI4U2AAAALnRSTlMAEXF3ZWsFeC3S26iVh7MsAQnAVCIBZ7FtChBv6GonVZQJs4yLxtPNLY8IEHuINVg0ZAAAAAFiS0dEVgoN6YkAAAAJcEhZcwAACxMAAAsTAQCanBgAAAAHdElNRQfnAhIFCRn0J5yMAAAAq0lEQVQY02NgIAkwMjFDARMjXJBFDw5Y4IKsCEFWmBgbu56+gaERsiAHJxe3nrGJqZm5haWeFQ8vHz9QUEAQqt3a1MbWTkhYRBRmprG9A5qZYuJ6jk62ziYuQEEJSaiglDRIjaOpraubu4wsupM8PL2g2gXk5BX0vH18LYwgZiqCLOJQUlbR0/Nz9LcNCAwKVlVT10DRbh1iGqqphc+b2ANEW0cXCnS0SQt0ALCcIug70CWhAAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDIzLTAyLTE4VDA1OjA5OjI1KzAwOjAwRMIpTAAAACV0RVh0ZGF0ZTptb2RpZnkAMjAyMy0wMi0xOFQwNTowOToyNSswMDowMDWfkfAAAAAodEVYdGRhdGU6dGltZXN0YW1wADIwMjMtMDItMThUMDU6MDk6MjUrMDA6MDBiirAvAAAAAElFTkSuQmCC"></image>
          </svg>
          <span class="metric-label">Dir.V.</span>
          <span class="metric-val" *ngIf="climaGuardado?.winddirection !== undefined">{{ climaGuardado?.winddirection }}°</span>
          <span class="metric-val" *ngIf="climaGuardado?.winddirection === undefined">N/A</span>
        </div>

        <!-- Hora -->
        <div class="metric">
          <svg class="metric-icon" version="1.1" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg">  
            <image width="20" height="20" href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAMAAAC6V+0/AAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAABuVBMVEUAAAAAAAAECQkIDg4EBAQAAAAAAAAFBQUHDAwIDg4MFBUNFRUKCgoPGhxGenw/b3FDdXcmRUYJDAwJDw9Pi40LFBQNFhYMFhYPGhsMExUKEhIPGhoKEhQMExMOGhoMExMPGhoKFBQLExMNFxcKEhILFBQKExMKExQLEhILERMKEREHDQ1SkJMuUlMABAQAAAASHh9FeXtAcXI8aWszWlwvU1M4Y2QjPT4NGBoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABYmZtWlplKgoVlsbRsvsF0zM9uwsVuwcNsvb9ecU53czF0bStgbkdqt7dntbhptbVxaCf5uxD+vxD7vBBTUilYlZdtwMNms7Zdc1P8vRDYpBR5b0imsKy0wcFzhoZdkpRldEx6cU3W5eWLnJxdm51otrlZdl67kBWxvbmUo6RmfHxajo9ouLpqt7mJdiN8YxnH1dWVpaVfn6Jgl41OUUKvu7pWe3xwxsldn6KmtLTO3NxUf4BswMN0ys1gpaedrKzT4uJjd3dsvcBqubxXg4Vgd3hthYVid3dhdnZof39shYVkf4BVeXpqt7pksbJjr7Jdo6X////f0mPcAAAAQXRSTlMABGh/a1xUZIqPo7BH2vv4/vJQgvyxwLLCpqXBsafBqcKutcCwuamtop+SgPzwOQzg/f728fD166Zla1o/PiEmFs+XjUIAAAABYktHRJKWBO8gAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH5wISBQ8aO3RqsAAAAQlJREFUGNNjYMAOGJmYmVlY2djYmZk5OLm4ecBivHyOTs7O/ALOTo6Oji6ugkJAQWERNxTgLgoUFEMVc/MQBwpKuLl5enn7+PpBBf0lwYIBgUHBwSGhYeFgwQgpoKC0W2RUcHB0TGxcfAJYuwxYMDE4OCgpGQhSUoGCabJAQTm39KDgjEyQYHJWdo5brjxQUMEtLz+ooDAZAoqKXRXBgm4lpWXJMFBeoQQUVHZzq6yCi1XX1KoABVXr3OobYGKNTc0takBBdVc3t9a29vaOzq7unt4+t34NoKDmBFRvTtQCCmrroArq6gEF9Q0MnY2MTUxNzYxBwNwCHMj6llbWNrZ29jZg4IAjKhgAAWdbVO4nzP4AAAAldEVYdGRhdGU6Y3JlYXRlADIwMjMtMDItMThUMDU6MTU6MjYrMDA6MDCumAyfAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDIzLTAyLTE4VDA1OjE1OjI2KzAwOjAw38W0IwAAACh0RVh0ZGF0ZTp0aW1lc3RhbXAAMjAyMy0wMi0xOFQwNToxNToyNiswMDowMIjQlfwAAAAASUVORK5CYII="></image>
          </svg>
          <span class="metric-label">Hora</span>
          <span class="metric-val">{{ climaGuardado?.time || '--:--' }}</span>
        </div>

      </div>

      <!-- Bottom Section -->
      <div class="widget-bottom">
        {{ climaGuardado?.descripcion }}
      </div>
    </div>
  </div>

  <ion-tabs>
    <ion-tab-bar slot="bottom">
  
      <ion-tab-button tab="tab1" href="/tabs/tab1">
        <ion-icon aria-hidden="true" name="hardware-chip-outline"></ion-icon>
        <ion-label>Tecnologia</ion-label>
      </ion-tab-button>
  
      <ion-tab-button tab="tab2" href="/tabs/tab2">
        <ion-icon aria-hidden="true" name="football-outline"></ion-icon>
        <ion-label>Deporte</ion-label>
      </ion-tab-button>
  
      <ion-tab-button tab="buscador" (click)="setOpen(true)" class="lupa">
        <ion-icon aria-hidden="true" name="search-outline" style="margin-top: 0px;"></ion-icon>
        <ion-label>Buscar</ion-label>
      </ion-tab-button>
  
      <ion-tab-button tab="tab3" href="/tabs/tab3">
        <ion-icon aria-hidden="true" name="briefcase-outline"></ion-icon>
        <ion-label>Negocio</ion-label>
      </ion-tab-button>
  
      <ion-tab-button tab="tab4" href="/tabs/tab4">
        <ion-icon aria-hidden="true" name="videocam-outline"></ion-icon>
        <ion-label>Video</ion-label>
      </ion-tab-button>
  
    </ion-tab-bar>
  </ion-tabs>
</div>

<!-- MODAL DE CATEGORÍAS -->
<ion-modal [isOpen]="isModalOpen" (didDismiss)="setOpen(false)" [initialBreakpoint]="0.5" [breakpoints]="[0, 0.5, 0.75]">
  <ng-template>
    <ion-header>
      <ion-toolbar>
        <ion-title>Categorías</ion-title>
        <ion-buttons slot="end">
          <ion-button (click)="setOpen(false)">
            <ion-icon name="close-outline"></ion-icon>
          </ion-button>
        </ion-buttons>
      </ion-toolbar>
    </ion-header>
    <ion-content class="ion-padding">
      <ion-list>
        <ion-item button *ngFor="let cat of categorias" (click)="seleccionarCategoria(cat)" detail="true">
          <ion-icon slot="start" name="pricetag-outline"></ion-icon> <!-- Icono opcional para decorar -->
          <ion-label>
            <h2>{{ cat | titlecase }}</h2>
          </ion-label>
        </ion-item>
      </ion-list>
    </ion-content>
  </ng-template>
</ion-modal>
